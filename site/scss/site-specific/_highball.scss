.recipe-list {
	> .container > .flex-grid {
		margin-top: -5%;
	}
	.col {
		margin-bottom: $margin;
		@include respond($sm) {
			width: 50%;
		}
		@include respond($lg) {
			width: 33.333%;
		}
	}
	.recipe-mixer {
		display: block;
		text-align: center;
		text-transform: capitalize;
		font-size: .875rem;
		line-height: 1.333em;
		@include respond($md) {
			font-size: 1rem;
		}
	}
	.flex-col {
		width: 100%;
		flex-shrink: 0;
		padding-bottom: 2rem;
		@include respond($md) {
			padding-top: 5%;
			padding-bottom: 3%;
		}
		@include respond($md) {
			width: 50%;
		}
		@include respond($lg) {
			width: 33.333%;
		}
		@include respond(900) {
			&.show-nipple {
				// .nipple-wrap {
				// 	height: 10px !important;
				// }
			}
		}
	}
}

.flex-grid {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	padding-bottom: 3%;
	margin-left: (-$gutter/1.9);
  margin-right: (-$gutter/1.9);
	.flex-col {
		padding-left: $gutter/2;
		padding-right: $gutter/2;
		order: 0;
		position: relative;
		.img-wrap {
			overflow: hidden;
			img {
				transform: translate3d(0, 0, 0);
				transition: transform $med-speed $ease;
			}
		}
		.recipe-thumb-link {
			display: block;
			border: none;
			&:hover {
				.img-wrap {
					transform-style: preserve-3d;
					img {
						transform: translate3d(0, 0, 0) scale(1.03);
					}
				}
			}
		}
		&:not(.inline-recipe) {
			@include respond($md) {
				.nipple-wrap {
					width: 20px;
					height: 10px;
					position: absolute;
					bottom: 0;
					left: 50%;
					margin-left: -10px;
					overflow: hidden;
					transition: height .3s $ease;
					height: 0; // change to 10px show nipple
					.nipple {
						content: '';
						display: block;
						width: 0;
						height: 0;
						border: 10px solid transparent;
						border-top: none;
						border-bottom-color: #ffc99b;
					}
				}
			}
		}
		@include respond($md) {
			&:nth-child(n+1):nth-child(odd):nth-child(-n+3) {
				order: 1;
			}
			&:nth-child(n+2):nth-child(even):nth-child(-n+4) {
				order: 2;
			}
			&:nth-child(n+5):nth-child(odd):nth-child(-n+7) {
				order: 3;
			}
			&:nth-child(n+6):nth-child(even):nth-child(-n+8) {
				order: 4;
			}
			&:nth-child(n+9):nth-child(odd):nth-child(-n+11) {
				order: 5;
			}
			&:nth-child(n+10):nth-child(even):nth-child(-n+12) {
				order: 6;
			}
			&:nth-child(n+13):nth-child(odd):nth-child(-n+15) {
				order: 7;
			}
			&:nth-child(n+14):nth-child(even):nth-child(-n+16) {
				order: 8;
			}
			&:nth-child(n+17):nth-child(odd):nth-child(-n+19) {
				order: 9;
			}
			&:nth-child(n+18):nth-child(even):nth-child(-n+20) {
				order: 10;
			}
			&:nth-child(n+21):nth-child(odd):nth-child(-n+23) {
				order: 11;
			}
			&:nth-child(n+22):nth-child(even):nth-child(-n+24) {
				order: 12;
			}
		}

		@include respond($lg) {
			&:nth-child(n+1):nth-child(odd):nth-child(-n+5) {
				order: 1;
			}
			// inline grid row 1
			&:nth-child(n+2):nth-child(even):nth-child(-n+6) {
				order: 2;
			}
			&:nth-child(n+3):nth-child(even):nth-child(-n+6) {
				margin-left: -100%;
			}

			&:nth-child(n+7):nth-child(odd):nth-child(-n+11) {
				order: 3;
			}
			// inline grid row 2
			&:nth-child(n+8):nth-child(even):nth-child(-n+12) {
				order: 4;
			}
			&:nth-child(n+9):nth-child(even):nth-child(-n+12) {
				margin-left: -100%;
			}

			&:nth-child(n+13):nth-child(odd):nth-child(-n+17) {
				order: 5;
			}

			// inline grid row 3
			&:nth-child(n+14):nth-child(even):nth-child(-n+18) {
				order: 6;
			}
			&:nth-child(n+15):nth-child(even):nth-child(-n+18) {
				margin-left: -100%;
			}
			
			&:nth-child(n+19):nth-child(odd):nth-child(-n+23) {
				order: 7;
			}

			// inline grid row 4
			&:nth-child(n+20):nth-child(even):nth-child(-n+24) {
				order: 8;
			}
			&:nth-child(n+21):nth-child(even):nth-child(-n+24) {
				margin-left: -100%;
			}
		}

		&.inline-recipe {
			min-width: 100%;
			flex-grow: 1;
			padding: 0;
			display: none;
			position: relative;
			z-index: 1;
			margin-bottom: 0;
			// height: 0;
			// opacity: 0;
			transition: height .4s .4s $ease, opacity .3s .4s $ease;
			&.nipple-left .nipple-wrap .nipple-container {
				transform: translate3d(0, 0, 0); // left
			}
			&.nipple-right .nipple-wrap .nipple-container {
				transform: translate3d(#{200% + $gutter*6.5}, 0, 0); // right
			}
			&.nipple-center .nipple-wrap .nipple-container {
				transform: translate3d(#{100% + $gutter*3.25}, 0, 0); // center
			}
			.nipple-wrap {
				position: absolute;
				top: 0;
				left: $gutter/2;
				right: $gutter/2;
				z-index: 4;
				opacity: 0;
				transition: opacity .4s $ease;
				.nipple-container {
					width: 33.333% - $gutter/1.5;
					position: absolute;
					left: 0;
					transition: transform .4s ease-in-out;
					div {
						width: 0;
						height: 0;
						border: 10px solid transparent;
						border-top: none;
						border-bottom-color: currentcolor;
						position: absolute;
						top: -10px;
						left: 50%;
						margin-left: -10px;
						transition: border .4s ease-in-out;
					}
				}
			}
			&.visible {
				height: auto;
				transition: height .3s $ease, opacity .3s $ease;
				opacity: 1;
				.container {
					transform: translate3d(0, 0, 0);
					opacity: 1;
					transition: opacity .2s .4s $ease, transform .2s .4s $ease;
				}
				.nipple-wrap {
					opacity: 1;
				}
				@include respond-smaller-than($lg) {
					display: none;
				}
				.inline-recipe-wrap {
					overflow: visible;
				}
			}
			.inline-recipe-wrap {
				height: 100%;
				position: relative;
				overflow: hidden;
				// transition: overflow 0s .5s $ease;
			}
			@include respond($md) {
				display: block;
			}
			&:not(.visible) {
				.bg-color {
					// background: transparent !important;
				}
			}
			.bg-color {
				content: '';
				display: block;
				position: absolute;
				top: 0;
				bottom: 0;
				left: -100%;
				right: -100%;
				background-color: #ffffff;
				z-index: 1;
				transition: background .4s $ease;
			}
			.container {
				color: $text-color;
				width: 96%;
				z-index: 1;
				padding: 0rem 0 4rem;
				z-index: 2;
				opacity: 0;
				transform: translate3d(0, 20px, 0);
				transition: opacity .15s $ease, transform .15s $ease;
				@include respond($lg) {
					padding: 3rem 0;
				}
			}
			.recipe-section {
				margin-top: $base-line-height * 1.5;
				max-width: 400px;
				@include respond($lg) {
					margin-top: 0;
				}
				h3 {
					font-weight: 900;
					text-transform: uppercase;
					letter-spacing: $tracked-out;
					font-size: 12px;
					margin-bottom: 1em;
				}
				+ .recipe-section {
					@include respond($lg) {
						margin-top: $base-line-height * 1.5;
					}
				}
				.share-recipe {
					li {
						font-size: 14px;
						letter-spacing: .05em;
						position: relative;
						a {
							margin-left: 22px;
							.icon {
								display: block;
								width: 16px;
								position: absolute;
								left: 0;
								top: 50%;
								margin-left: -3px;
								transform: translate3d(0, -52%, 0);
								svg {
									margin: 0 auto;
									transform: scale(.8);
									display: block;
									* {
										fill: $text-color;
									}
								}
							}
						}
					}
				}
				.recipe-steps {
					counter-reset: step-counter;
					li {
						margin-bottom: $base-line-height/2;
						position: relative;
						padding-left: 32px;
						@include respond($lg) {
							padding-left: 0;
						}
						&:before {
							content: counter(step-counter, decimal-leading-zero);
							counter-increment: step-counter;
							position: absolute;
							left: 0;
							padding-right: 15px;
							font-weight: 900;
							font-size: 12px;
							top: -2px;
							letter-spacing: $tracked-out;
							@include respond($lg) {
								left: auto;
								right: 100%;
							}
						}
					}
				}
			}
		}
	}
}